{"version":3,"sources":["webpack:///static/js/4.fe1f39d6e8fd205ca0b9.js","webpack:///./src/views/user/index.vue","webpack:///./src/views/mixins/form.js?b8e3**","webpack:///./src/views/admin/users/UserForm.vue?94ab*","webpack:///./src/views/admin/users/UserForm.vue?2884*","webpack:///./src/views/admin/users/UserForm.vue","webpack:///./src/views/admin/users/UserForm.vue?dc9e*","webpack:///UserForm.vue?a1b6","webpack:///./src/views/user/index.vue?1412","webpack:///index.vue?3baf"],"names":["webpackJsonp","160","module","exports","__webpack_require__","Component","384","__webpack_exports__","P","axios","props","saveApi","String","editApi","idkey","type","default","current","Object","data","rules","computed","id","this","isEdit","methods","save","_this","compact","extend","preSave","err","$message","error","message","action","subject","api","post","getApi","then","resolvedCallback","postSave","$emit","hide","call","402","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","403","content","locals","404","405","render","_vm","_h","$createElement","_c","_self","attrs","model","label-width","label-position","label","prop","minlength","maxlength","value","callback","$$v","name","_v","nick_name","pwd","placeholder","clearable","sex","_l","item","key","tel","mobile","staticClass","uploadApi","show-file-list","on-success","onUploaded","before-upload","checkUploadFile","avatarUrl","avatar","src","position","dep_id","on","change","onSelectDep","disabled","isUserCenter","role_id","fields","onSelectRole","staticRenderFns","407","defineProperty","__WEBPACK_IMPORTED_MODULE_0_mixins_form__","mixins","isImg","match","isLt2M","size","getAvatarUrl","res","ok","$set","url","473","span","offset","ref","is-user-center","edit-api","save-done","$event","click","519","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1__views_admin_users_UserForm__","__WEBPACK_IMPORTED_MODULE_1__views_admin_users_UserForm___default","__WEBPACK_IMPORTED_MODULE_2_vuex__","components","UserForm","a","$refs","form","created","checkLogin","user","userId","length"],"mappings":"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","file":"static/js/4.fe1f39d6e8fd205ca0b9.js","sourcesContent":["webpackJsonp([4,8],{\n\n/***/ 160:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(11)(\n  /* script */\n  __webpack_require__(519),\n  /* template */\n  __webpack_require__(473),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 384:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(P, axios) {/* harmony default export */ __webpack_exports__[\"a\"] = {\n  props: {\n    saveApi: String,\n    editApi: String,\n    idkey: {\n      type: String,\n      default: 'id'\n    },\n    current: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      rules: {} };\n  },\n\n  computed: {\n    id: function id() {\n      return this.current[this.idkey];\n    },\n    isEdit: function isEdit() {\n      return !!this.current[this.idkey];\n    }\n  },\n  methods: {\n    save: function save() {\n      var _this = this;\n\n      var data = P.compact(P.extend({}, this.current));\n      if (this.preSave) {\n        try {\n          data = this.preSave(data);\n        } catch (err) {\n          this.$message.error(err.message);\n          return;\n        }\n      }\n      var action = (this.isEdit ? '修改' : '新增') + this.subject;\n      var api = this.isEdit ? this.editApi : this.saveApi;\n      if (this.isEdit) {\n        delete data[this.idkey];\n      }\n\n      axios.post(P.getApi(api), data).then(P.resolvedCallback(action, function () {\n        _this.postSave();\n        _this.$emit('save-done');\n      }));\n    },\n    postSave: function postSave() {\n      if (this.hide && typeof this.hide === 'function') {\n        this.hide();\n      }\n    }\n  }\n};\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(5), __webpack_require__(16)))\n\n/***/ }),\n\n/***/ 402:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(373)();\n// imports\n\n\n// module\nexports.push([module.i, \".avatar-uploader{position:relative;width:120px;height:120px;display:inline-block;border:1px dashed #d9d9d9;border-radius:6px;overflow:hidden}.avatar-uploader:hover{border-color:#20a2ff}.avatar-uploader .avatar-plus-icon{position:absolute;top:0;left:0;font-size:20px;line-height:120px;width:100%;height:100%;text-align:center}.avatar-uploader .avatar{width:120px;height:120px}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/admin/users/UserForm.vue\"],\"names\":[],\"mappings\":\"AACA,iBACE,kBAAmB,AACnB,YAAa,AACb,aAAc,AACd,qBAAsB,AACtB,0BAA2B,AAC3B,kBAAmB,AACnB,eAAiB,CAClB,AACD,uBACI,oBAAsB,CACzB,AACD,mCACI,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,eAAgB,AAChB,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,iBAAmB,CACtB,AACD,yBACI,YAAa,AACb,YAAc,CACjB\",\"file\":\"UserForm.vue\",\"sourcesContent\":[\"\\n.avatar-uploader {\\n  position: relative;\\n  width: 120px;\\n  height: 120px;\\n  display: inline-block;\\n  border: 1px dashed #d9d9d9;\\n  border-radius: 6px;\\n  overflow: hidden;\\n}\\n.avatar-uploader:hover {\\n    border-color: #20a2ff;\\n}\\n.avatar-uploader .avatar-plus-icon {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    font-size: 20px;\\n    line-height: 120px;\\n    width: 100%;\\n    height: 100%;\\n    text-align: center;\\n}\\n.avatar-uploader .avatar {\\n    width: 120px;\\n    height: 120px;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 403:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(402);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(374)(\"15ef0847\", content, true);\n// Hot Module Replacement\nif(false) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../../../node_modules/.npminstall/css-loader/0.26.2/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-37d239fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../../../../node_modules/.npminstall/sass-loader/6.0.2/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector.js?type=styles&index=0!./UserForm.vue\", function() {\n     var newContent = require(\"!!../../../../../../../../node_modules/.npminstall/css-loader/0.26.2/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-37d239fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../../../../node_modules/.npminstall/sass-loader/6.0.2/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector.js?type=styles&index=0!./UserForm.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n\n/***/ 404:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(403)\n\nvar Component = __webpack_require__(11)(\n  /* script */\n  __webpack_require__(407),\n  /* template */\n  __webpack_require__(405),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 405:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    attrs: {\n      \"rules\": _vm.rules,\n      \"model\": _vm.current,\n      \"label-width\": \"120px\",\n      \"label-position\": \"right\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名: \",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"minlength\": 3,\n      \"maxlength\": 20\n    },\n    model: {\n      value: (_vm.current.name),\n      callback: function($$v) {\n        _vm.current.name = $$v\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"昵称: \",\n      \"prop\": \"nick_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"minlength\": 3,\n      \"maxlength\": 20\n    },\n    model: {\n      value: (_vm.current.nick_name),\n      callback: function($$v) {\n        _vm.current.nick_name = $$v\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码: \",\n      \"prop\": \"pwd\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"minlength\": 3,\n      \"maxlength\": 20\n    },\n    model: {\n      value: (_vm.current.pwd),\n      callback: function($$v) {\n        _vm.current.pwd = $$v\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"性别: \",\n      \"prop\": \"sex\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\",\n      \"clearable\": \"\"\n    },\n    model: {\n      value: (_vm.current.sex),\n      callback: function($$v) {\n        _vm.current.sex = $$v\n      }\n    }\n  }, _vm._l(([{\n    label: '男',\n    value: 'male'\n  }, {\n    label: '女',\n    value: 'female'\n  }]), function(item) {\n    return _c('el-option', {\n      key: item.value,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.value\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"办公电话: \",\n      \"prop\": \"tel\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.current.tel),\n      callback: function($$v) {\n        _vm.current.tel = $$v\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"手机: \",\n      \"prop\": \"mobile\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 13\n    },\n    model: {\n      value: (_vm.current.mobile),\n      callback: function($$v) {\n        _vm.current.mobile = $$v\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"头像: \",\n      \"prop\": \"avatar\"\n    }\n  }, [_c('el-upload', {\n    staticClass: \"avatar-uploader\",\n    attrs: {\n      \"action\": _vm.uploadApi,\n      \"show-file-list\": false,\n      \"on-success\": _vm.onUploaded,\n      \"before-upload\": _vm.checkUploadFile\n    }\n  }, [(_vm.avatarUrl(_vm.current.avatar)) ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.avatarUrl(_vm.current.avatar)\n    }\n  }) : _c('i', {\n    staticClass: \"el-icon-plus avatar-plus-icon\"\n  })])], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"职称: \",\n      \"prop\": \"position\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.current.position),\n      callback: function($$v) {\n        _vm.current.position = $$v\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"部门: \",\n      \"prop\": \"dep_id\"\n    }\n  }, [_c('ui-select', {\n    attrs: {\n      \"api\": \"dep/get\",\n      \"value\": _vm.current.dep_id\n    },\n    on: {\n      \"change\": _vm.onSelectDep\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"角色: \",\n      \"prop\": \"role_id\"\n    }\n  }, [_c('ui-select', {\n    attrs: {\n      \"disabled\": _vm.isUserCenter,\n      \"api\": \"role/get\",\n      \"value\": _vm.current.role_id,\n      \"fields\": ['id', 'cname']\n    },\n    on: {\n      \"change\": _vm.onSelectRole\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 407:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(P) {Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_mixins_form__ = __webpack_require__(384);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  name: 'UserForm',\n  mixins: [__WEBPACK_IMPORTED_MODULE_0_mixins_form__[\"a\" /* default */]],\n  props: ['conf', 'isUserCenter'], data: function data() {\n    return {\n      uploadApi: P.getApi('/upload/image'),\n      subject: '用户'\n    };\n  },\n\n  methods: {\n    hide: function hide() {\n      this.$emit('hide-modal');\n    },\n    checkUploadFile: function checkUploadFile(file) {\n      var isImg = file.type.match(/image\\/\\w+/);\n      var isLt2M = file.size / (1024 * 1024) < 2;\n      if (!isImg) {\n        this.$message.error('请选择图片..');\n      }\n      if (!isLt2M) {\n        this.$message.error('请上传小于2M的图片');\n      }\n\n      return isImg && isLt2M;\n    },\n\n    avatarUrl: P.getAvatarUrl,\n    onUploaded: function onUploaded(res) {\n      if (res.ok) {\n        this.$set(this.current, 'avatar', res.data.url);\n      } else {\n        this.$message.error(res.data.error);\n      }\n    },\n    onSelectDep: function onSelectDep(id) {\n      this.current.dep_id = id;\n    },\n    onSelectRole: function onSelectRole(id) {\n      this.current.role_id = id;\n    }\n  }\n};\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(5)))\n\n/***/ }),\n\n/***/ 473:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"user-page\"\n  }, [_c('h1', {\n    staticClass: \"text-center mb20\"\n  }, [_vm._v(\"我的信息\")]), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 12,\n      \"offset\": 6\n    }\n  }, [_c('user-form', {\n    ref: \"form\",\n    attrs: {\n      \"current\": _vm.current,\n      \"is-user-center\": true,\n      \"edit-api\": (\"user/update/\" + (_vm.current.id))\n    },\n    on: {\n      \"save-done\": function($event) {\n        _vm.$emit('save-done')\n      }\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"actions text-center mb30\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": _vm.save\n    }\n  }, [_vm._v(\"保 存\")])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 519:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(P, axios) {Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__views_admin_users_UserForm__ = __webpack_require__(404);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__views_admin_users_UserForm___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__views_admin_users_UserForm__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(38);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  name: 'UserPage',\n  components: {\n    UserForm: __WEBPACK_IMPORTED_MODULE_1__views_admin_users_UserForm___default.a\n  },\n  data: function data() {\n    return {\n      current: {\n        id: '',\n        sex: ''\n      }\n    };\n  },\n\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"b\" /* mapState */])(['user'])),\n  methods: {\n    save: function save() {\n      this.$refs.form.save();\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    P.checkLogin(this);\n    if (!this.user.userId) {\n      return;\n    }\n\n    axios.post(P.getApi('user/get'), { id: this.user.userId }).then(P.resolvedCallback('', function (res) {\n      if (res.data.length) {\n        _this.current = res.data[0];\n      }\n    }));\n  }\n};\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(5), __webpack_require__(16)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.fe1f39d6e8fd205ca0b9.js","var Component = require(\"!../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-56218d54\\\"}!../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/index.vue\n// module id = 160\n// module chunks = 4","export default {\r\n  props: {\r\n    saveApi: String,\r\n    editApi: String,\r\n    idkey: {\r\n      type: String,\r\n      default: 'id'\r\n    },\r\n    current: { // 当前数据记录\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      rules: {} // 表单验证规则\r\n    };\r\n  },\r\n  computed: {\r\n    id() {\r\n      return this.current[this.idkey];\r\n    },\r\n    isEdit() {\r\n      return !!this.current[this.idkey];\r\n    }\r\n  },\r\n  methods: {\r\n    save() {\r\n      let data = P.compact(P.extend({}, this.current));\r\n      if (this.preSave) {\r\n        try {\r\n          data = this.preSave(data); // check data and sort data\r\n        } catch (err) {\r\n          this.$message.error(err.message);\r\n          return;\r\n        }\r\n      }\r\n      const action = (this.isEdit ? '修改' : '新增') + this.subject;\r\n      const api = this.isEdit ? this.editApi : this.saveApi;\r\n      if (this.isEdit) {\r\n        delete data[this.idkey];\r\n      }\r\n\r\n      axios\r\n        .post(P.getApi(api), data)\r\n        .then(P.resolvedCallback(action, () => {\r\n          this.postSave();\r\n          this.$emit('save-done');\r\n        }));\r\n\r\n    },\r\n    postSave() {\r\n      if (this.hide && typeof this.hide === 'function') {\r\n        this.hide();\r\n      }\r\n    }\r\n  }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/views/mixins/form.js","exports = module.exports = require(\"../../../../../../../../node_modules/.npminstall/css-loader/0.26.2/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".avatar-uploader{position:relative;width:120px;height:120px;display:inline-block;border:1px dashed #d9d9d9;border-radius:6px;overflow:hidden}.avatar-uploader:hover{border-color:#20a2ff}.avatar-uploader .avatar-plus-icon{position:absolute;top:0;left:0;font-size:20px;line-height:120px;width:100%;height:100%;text-align:center}.avatar-uploader .avatar{width:120px;height:120px}\", \"\", {\"version\":3,\"sources\":[\"/./src/views/admin/users/UserForm.vue\"],\"names\":[],\"mappings\":\"AACA,iBACE,kBAAmB,AACnB,YAAa,AACb,aAAc,AACd,qBAAsB,AACtB,0BAA2B,AAC3B,kBAAmB,AACnB,eAAiB,CAClB,AACD,uBACI,oBAAsB,CACzB,AACD,mCACI,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,eAAgB,AAChB,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,iBAAmB,CACtB,AACD,yBACI,YAAa,AACb,YAAc,CACjB\",\"file\":\"UserForm.vue\",\"sourcesContent\":[\"\\n.avatar-uploader {\\n  position: relative;\\n  width: 120px;\\n  height: 120px;\\n  display: inline-block;\\n  border: 1px dashed #d9d9d9;\\n  border-radius: 6px;\\n  overflow: hidden;\\n}\\n.avatar-uploader:hover {\\n    border-color: #20a2ff;\\n}\\n.avatar-uploader .avatar-plus-icon {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    font-size: 20px;\\n    line-height: 120px;\\n    width: 100%;\\n    height: 100%;\\n    text-align: center;\\n}\\n.avatar-uploader .avatar {\\n    width: 120px;\\n    height: 120px;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/mydev/trunk/~/.npminstall/css-loader/0.26.2/css-loader?{\"minimize\":true,\"sourceMap\":true}!D:/mydev/trunk/~/.npminstall/vue-loader/11.1.3/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-37d239fe\",\"scoped\":false,\"hasInlineConfig\":false}!D:/mydev/trunk/~/.npminstall/sass-loader/6.0.2/sass-loader/lib/loader.js?{\"sourceMap\":true}!D:/mydev/trunk/~/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector.js?type=styles&index=0!./src/views/admin/users/UserForm.vue\n// module id = 402\n// module chunks = 3 4 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../../../node_modules/.npminstall/css-loader/0.26.2/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-37d239fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../../../../node_modules/.npminstall/sass-loader/6.0.2/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector.js?type=styles&index=0!./UserForm.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../../../../node_modules/.npminstall/vue-style-loader/2.0.3/vue-style-loader/lib/addStylesClient.js\")(\"15ef0847\", content, true);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../../../../node_modules/.npminstall/css-loader/0.26.2/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-37d239fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../../../../node_modules/.npminstall/sass-loader/6.0.2/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector.js?type=styles&index=0!./UserForm.vue\", function() {\n     var newContent = require(\"!!../../../../../../../../node_modules/.npminstall/css-loader/0.26.2/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/style-rewriter.js?{\\\"id\\\":\\\"data-v-37d239fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../../../../node_modules/.npminstall/sass-loader/6.0.2/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector.js?type=styles&index=0!./UserForm.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/mydev/trunk/~/.npminstall/extract-text-webpack-plugin/2.0.0/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!D:/mydev/trunk/~/.npminstall/vue-style-loader/2.0.3/vue-style-loader!D:/mydev/trunk/~/.npminstall/css-loader/0.26.2/css-loader?{\"minimize\":true,\"sourceMap\":true}!D:/mydev/trunk/~/.npminstall/vue-loader/11.1.3/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-37d239fe\",\"scoped\":false,\"hasInlineConfig\":false}!D:/mydev/trunk/~/.npminstall/sass-loader/6.0.2/sass-loader/lib/loader.js?{\"sourceMap\":true}!D:/mydev/trunk/~/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector.js?type=styles&index=0!./src/views/admin/users/UserForm.vue\n// module id = 403\n// module chunks = 3 4 6","\n/* styles */\nrequire(\"!!../../../../../../../../node_modules/.npminstall/extract-text-webpack-plugin/2.0.0/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-37d239fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector?type=styles&index=0!./UserForm.vue\")\n\nvar Component = require(\"!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector?type=script&index=0!./UserForm.vue\"),\n  /* template */\n  require(\"!!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-37d239fe\\\"}!../../../../../../../../node_modules/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector?type=template&index=0!./UserForm.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/users/UserForm.vue\n// module id = 404\n// module chunks = 3 4 6","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    attrs: {\n      \"rules\": _vm.rules,\n      \"model\": _vm.current,\n      \"label-width\": \"120px\",\n      \"label-position\": \"right\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名: \",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"minlength\": 3,\n      \"maxlength\": 20\n    },\n    model: {\n      value: (_vm.current.name),\n      callback: function($$v) {\n        _vm.current.name = $$v\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"昵称: \",\n      \"prop\": \"nick_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"minlength\": 3,\n      \"maxlength\": 20\n    },\n    model: {\n      value: (_vm.current.nick_name),\n      callback: function($$v) {\n        _vm.current.nick_name = $$v\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码: \",\n      \"prop\": \"pwd\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"minlength\": 3,\n      \"maxlength\": 20\n    },\n    model: {\n      value: (_vm.current.pwd),\n      callback: function($$v) {\n        _vm.current.pwd = $$v\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"性别: \",\n      \"prop\": \"sex\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\",\n      \"clearable\": \"\"\n    },\n    model: {\n      value: (_vm.current.sex),\n      callback: function($$v) {\n        _vm.current.sex = $$v\n      }\n    }\n  }, _vm._l(([{\n    label: '男',\n    value: 'male'\n  }, {\n    label: '女',\n    value: 'female'\n  }]), function(item) {\n    return _c('el-option', {\n      key: item.value,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.value\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"办公电话: \",\n      \"prop\": \"tel\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.current.tel),\n      callback: function($$v) {\n        _vm.current.tel = $$v\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"手机: \",\n      \"prop\": \"mobile\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 13\n    },\n    model: {\n      value: (_vm.current.mobile),\n      callback: function($$v) {\n        _vm.current.mobile = $$v\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"头像: \",\n      \"prop\": \"avatar\"\n    }\n  }, [_c('el-upload', {\n    staticClass: \"avatar-uploader\",\n    attrs: {\n      \"action\": _vm.uploadApi,\n      \"show-file-list\": false,\n      \"on-success\": _vm.onUploaded,\n      \"before-upload\": _vm.checkUploadFile\n    }\n  }, [(_vm.avatarUrl(_vm.current.avatar)) ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.avatarUrl(_vm.current.avatar)\n    }\n  }) : _c('i', {\n    staticClass: \"el-icon-plus avatar-plus-icon\"\n  })])], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"职称: \",\n      \"prop\": \"position\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.current.position),\n      callback: function($$v) {\n        _vm.current.position = $$v\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"部门: \",\n      \"prop\": \"dep_id\"\n    }\n  }, [_c('ui-select', {\n    attrs: {\n      \"api\": \"dep/get\",\n      \"value\": _vm.current.dep_id\n    },\n    on: {\n      \"change\": _vm.onSelectDep\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"角色: \",\n      \"prop\": \"role_id\"\n    }\n  }, [_c('ui-select', {\n    attrs: {\n      \"disabled\": _vm.isUserCenter,\n      \"api\": \"role/get\",\n      \"value\": _vm.current.role_id,\n      \"fields\": ['id', 'cname']\n    },\n    on: {\n      \"change\": _vm.onSelectRole\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/mydev/trunk/~/.npminstall/vue-loader/11.1.3/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-37d239fe\"}!D:/mydev/trunk/~/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/users/UserForm.vue\n// module id = 405\n// module chunks = 3 4 6","<template>\r\n    <el-form :rules=\"rules\" :model=\"current\" label-width=\"120px\" label-position=\"right\">\r\n      <el-form-item label=\"用户名: \" prop=\"name\">\r\n        <el-input v-model=\"current.name\" :minlength=\"3\" :maxlength=\"20\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"昵称: \" prop=\"nick_name\">\r\n        <el-input v-model=\"current.nick_name\" :minlength=\"3\" :maxlength=\"20\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"密码: \" prop=\"pwd\">\r\n        <el-input type=\"text\" v-model=\"current.pwd\" :minlength=\"3\" :maxlength=\"20\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"性别: \" prop=\"sex\">\r\n        <el-select v-model=\"current.sex\" placeholder=\"请选择\" clearable>\r\n          <el-option v-for=\"item in [{label:'男', value: 'male'}, {label: '女', value: 'female'}]\" :label=\"item.label\" :value=\"item.value\"\r\n            :key=\"item.value\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"办公电话: \" prop=\"tel\">\r\n        <el-input v-model=\"current.tel\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"手机: \" prop=\"mobile\">\r\n        <el-input v-model=\"current.mobile\" :maxlength=\"13\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"头像: \" prop=\"avatar\">\r\n        <el-upload :action=\"uploadApi\" :show-file-list=\"false\" class=\"avatar-uploader\" :on-success=\"onUploaded\" :before-upload=\"checkUploadFile\">\r\n          <img v-if=\"avatarUrl(current.avatar)\" :src=\"avatarUrl(current.avatar)\" class=\"avatar\">\r\n          <i v-else class=\"el-icon-plus avatar-plus-icon\"></i>\r\n        </el-upload>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"职称: \" prop=\"position\">\r\n        <el-input v-model=\"current.position\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"部门: \" prop=\"dep_id\">\r\n        <ui-select api=\"dep/get\" :value=\"current.dep_id\" @change=\"onSelectDep\"></ui-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"角色: \" prop=\"role_id\">\r\n        <ui-select :disabled=\"isUserCenter\" api=\"role/get\" :value=\"current.role_id\" :fields=\"['id', 'cname']\" @change=\"onSelectRole\"></ui-select>\r\n      </el-form-item>\r\n\r\n    </el-form>\r\n</template>\r\n\r\n<script>\r\n  import formMixin from 'mixins/form';\r\n\r\n  export default {\r\n    name: 'UserForm',\r\n    mixins: [formMixin],\r\n    props: ['conf', 'isUserCenter'], // 这里没有props的话， mixin的props合并不过来:(\r\n    data() {\r\n      return {\r\n        uploadApi: P.getApi('/upload/image'),\r\n        subject: '用户'\r\n      };\r\n    },\r\n    methods: {\r\n      hide() {\r\n        this.$emit('hide-modal');\r\n      },\r\n      checkUploadFile(file) {\r\n        const isImg = file.type.match(/image\\/\\w+/);\r\n        const isLt2M = file.size / (1024 * 1024) < 2;\r\n        if (!isImg) {\r\n          this.$message.error('请选择图片..');\r\n        }\r\n        if (!isLt2M) {\r\n          this.$message.error('请上传小于2M的图片');\r\n        }\r\n\r\n        return isImg && isLt2M;\r\n      },\r\n      avatarUrl: P.getAvatarUrl,\r\n      onUploaded(res) {\r\n        // P.warn(res, file);\r\n        if (res.ok) {\r\n          this.$set(this.current, 'avatar', res.data.url); // 设置响应式属性\r\n        } else {\r\n          this.$message.error(res.data.error);\r\n        }\r\n      },\r\n      onSelectDep(id) {\r\n        this.current.dep_id = id;\r\n      },\r\n      onSelectRole(id) {\r\n        this.current.role_id = id;\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n  .avatar-uploader {\r\n    $w: 120px;\r\n    position: relative;\r\n    width: $w;\r\n    height: $w;\r\n    display: inline-block;\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    overflow: hidden;\r\n\r\n    &:hover {\r\n      border-color: #20a2ff;\r\n    }\r\n\r\n    .avatar-plus-icon {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      font-size: 20px;\r\n      line-height: $w;\r\n      width: 100%;\r\n      height: 100%;\r\n      text-align: center;\r\n    }\r\n\r\n    .avatar {\r\n      width: $w;\r\n      height: $w;\r\n    }\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// UserForm.vue?d082ee1e","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"user-page\"\n  }, [_c('h1', {\n    staticClass: \"text-center mb20\"\n  }, [_vm._v(\"我的信息\")]), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 12,\n      \"offset\": 6\n    }\n  }, [_c('user-form', {\n    ref: \"form\",\n    attrs: {\n      \"current\": _vm.current,\n      \"is-user-center\": true,\n      \"edit-api\": (\"user/update/\" + (_vm.current.id))\n    },\n    on: {\n      \"save-done\": function($event) {\n        _vm.$emit('save-done')\n      }\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"actions text-center mb30\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": _vm.save\n    }\n  }, [_vm._v(\"保 存\")])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/mydev/trunk/~/.npminstall/vue-loader/11.1.3/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-56218d54\"}!D:/mydev/trunk/~/.npminstall/vue-loader/11.1.3/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/index.vue\n// module id = 473\n// module chunks = 4","<template>\r\n  <div class=\"user-page\">\r\n    <h1 class=\"text-center mb20\">我的信息</h1>\r\n    <el-row>\r\n      <el-col :span=\"12\" :offset=\"6\">\r\n        <user-form :current=\"current\" :is-user-center=\"true\" :edit-api=\"`user/update/${current.id}`\" ref=\"form\" @save-done=\"$emit('save-done')\"></user-form>\r\n      </el-col>\r\n    </el-row>\r\n  \r\n    <div class=\"actions text-center mb30\">\r\n      <el-button type=\"primary\" size=\"large\" @click=\"save\">保 存</el-button>\r\n    </div>    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import UserForm from '@/views/admin/users/UserForm';\r\n  import {mapState} from 'vuex';\r\n\r\n  export default {\r\n    name: 'UserPage',\r\n    components: {\r\n      UserForm\r\n    },\r\n    data() {\r\n      return {\r\n        current: {\r\n          id: '',\r\n          sex: ''\r\n        }\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapState(['user'])\r\n    },\r\n    methods: {\r\n      save() {\r\n        this.$refs.form.save();\r\n      }\r\n    },\r\n    created() {\r\n      P.checkLogin(this);\r\n      if (!this.user.userId) {\r\n        return;\r\n      }\r\n\r\n      axios.post(P.getApi('user/get'), {id: this.user.userId})\r\n           .then(P.resolvedCallback('', res => {\r\n             if (res.data.length) {\r\n               this.current = res.data[0];\r\n             }\r\n           }));\r\n    }\r\n  };\r\n</script>\n\n\n// WEBPACK FOOTER //\n// index.vue?ef3dee6e"],"sourceRoot":""}