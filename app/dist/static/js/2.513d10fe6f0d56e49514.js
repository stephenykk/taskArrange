webpackJsonp([2,8],{154:function(t,e,n){var i=n(11)(n(501),n(455),null,null);t.exports=i.exports},155:function(t,e,n){var i=n(11)(n(505),n(475),null,null);t.exports=i.exports},379:function(t,e,n){var i=n(11)(n(502),n(481),null,null);t.exports=i.exports},380:function(t,e,n){var i=n(12),o=n(7),r=n(144),a=n(381),s=n(25).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},381:function(t,e,n){e.f=n(8)},382:function(t,e,n){"use strict";(function(t,i){var o=n(76),r=n.n(o),a=n(388),s=n.n(a);e.a={props:{api:{type:String,required:!0},active:{type:Boolean,default:!0},idkey:{type:String,default:"id"},subject:String,queryView:Boolean,queryCondition:Object},data:function(){return{paging:{total:0},params:t.pagingParams(),data:[]}},computed:{delApi:function(){var t=this.api.split("/");return t[t.length-1]="delete",t.join("/")}},methods:{handlePagingChange:function(e){this.params=t.pagingParams(e),this.load(!0)},load:function(e){var n=this,o=this.params,a=this.queryView?{view:!0}:{},c=this.queryCondition;"object"===("undefined"==typeof c?"undefined":s()(c))&&r()(a,c);var u="获取"+this.subject+"数据",l=function(t){n.data=t.data,n.paging.total=t.total};l.notips=e,i.post(t.getApi(this.api,o),a).then(t.resolvedCallback(u,l))},editRow:function(t){this.$emit("edit",t)},delRow:function(t){this.$emit("del",t),this.delConfirm(t[this.idkey])},delConfirm:function(t){var e=this;this.$confirm("确定删除"+this.subject+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.removeRow(t)}).catch(function(){e.$message.info("取消删除")})},removeRow:function(e){var n=this;i.get(t.getApi(this.delApi+"/"+e)).then(t.resolvedCallback("删除",function(){return n.load(!0)}))}},watch:{active:function(){this.active&&this.load()}},mounted:function(){this.active&&this.$store.state.user.userId&&this.load()}}}).call(e,n(5),n(16))},383:function(t,e,n){var i=n(149),o=n(78).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},386:function(t,e,n){t.exports={default:n(389),__esModule:!0}},387:function(t,e,n){t.exports={default:n(390),__esModule:!0}},388:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(387),r=i(o),a=n(386),s=i(a),c="function"==typeof s.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===c(r.default)?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":"undefined"==typeof t?"undefined":c(t)}},389:function(t,e,n){n(398),n(397),n(399),n(400),t.exports=n(7).Symbol},390:function(t,e,n){n(81),n(82),t.exports=n(381).f("iterator")},391:function(t,e,n){var i=n(73),o=n(145),r=n(143);t.exports=function(t){var e=i(t),n=o.f;if(n)for(var a,s=n(t),c=r.f,u=0;s.length>u;)c.call(t,a=s[u++])&&e.push(a);return e}},392:function(t,e,n){var i=n(77);t.exports=Array.isArray||function(t){return"Array"==i(t)}},393:function(t,e,n){var i=n(73),o=n(37);t.exports=function(t,e){for(var n,r=o(t),a=i(r),s=a.length,c=0;s>c;)if(r[n=a[c++]]===e)return n}},394:function(t,e,n){var i=n(75)("meta"),o=n(42),r=n(24),a=n(25).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(40)(function(){return c(Object.preventExtensions({}))}),l=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,i)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[i].i},p=function(t,e){if(!r(t,i)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[i].w},d=function(t){return u&&g.NEED&&c(t)&&!r(t,i)&&l(t),t},g=t.exports={KEY:i,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},395:function(t,e,n){var i=n(143),o=n(74),r=n(37),a=n(146),s=n(24),c=n(147),u=Object.getOwnPropertyDescriptor;e.f=n(17)?u:function(t,e){if(t=r(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},396:function(t,e,n){var i=n(37),o=n(383).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?s(t):o(i(t))}},397:function(t,e){},398:function(t,e,n){"use strict";var i=n(12),o=n(24),r=n(17),a=n(41),s=n(150),c=n(394).KEY,u=n(40),l=n(80),f=n(79),p=n(75),d=n(8),g=n(381),h=n(380),v=n(393),b=n(391),m=n(392),y=n(26),A=n(37),x=n(146),w=n(74),_=n(148),C=n(396),k=n(395),B=n(25),S=n(73),j=k.f,O=B.f,P=C.f,E=i.Symbol,M=i.JSON,T=M&&M.stringify,D="prototype",F=d("_hidden"),$=d("toPrimitive"),R={}.propertyIsEnumerable,q=l("symbol-registry"),N=l("symbols"),I=l("op-symbols"),L=Object[D],z="function"==typeof E,Y=i.QObject,J=!Y||!Y[D]||!Y[D].findChild,W=r&&u(function(){return 7!=_(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=j(L,e);i&&delete L[e],O(t,e,n),i&&t!==L&&O(L,e,i)}:O,K=function(t){var e=N[t]=_(E[D]);return e._k=t,e},Q=z&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},V=function(t,e,n){return t===L&&V(I,e,n),y(t),e=x(e,!0),y(n),o(N,e)?(n.enumerable?(o(t,F)&&t[F][e]&&(t[F][e]=!1),n=_(n,{enumerable:w(0,!1)})):(o(t,F)||O(t,F,w(1,{})),t[F][e]=!0),W(t,e,n)):O(t,e,n)},G=function(t,e){y(t);for(var n,i=b(e=A(e)),o=0,r=i.length;r>o;)V(t,n=i[o++],e[n]);return t},H=function(t,e){return void 0===e?_(t):G(_(t),e)},U=function(t){var e=R.call(this,t=x(t,!0));return!(this===L&&o(N,t)&&!o(I,t))&&(!(e||!o(this,t)||!o(N,t)||o(this,F)&&this[F][t])||e)},Z=function(t,e){if(t=A(t),e=x(e,!0),t!==L||!o(N,e)||o(I,e)){var n=j(t,e);return!n||!o(N,e)||o(t,F)&&t[F][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=P(A(t)),i=[],r=0;n.length>r;)o(N,e=n[r++])||e==F||e==c||i.push(e);return i},tt=function(t){for(var e,n=t===L,i=P(n?I:A(t)),r=[],a=0;i.length>a;)!o(N,e=i[a++])||n&&!o(L,e)||r.push(N[e]);return r};z||(E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===L&&e.call(I,n),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),W(this,t,w(1,n))};return r&&J&&W(L,t,{configurable:!0,set:e}),K(t)},s(E[D],"toString",function(){return this._k}),k.f=Z,B.f=V,n(383).f=C.f=X,n(143).f=U,n(145).f=tt,r&&!n(144)&&s(L,"propertyIsEnumerable",U,!0),g.f=function(t){return K(d(t))}),a(a.G+a.W+a.F*!z,{Symbol:E});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var et=S(d.store),nt=0;et.length>nt;)h(et[nt++]);a(a.S+a.F*!z,"Symbol",{for:function(t){return o(q,t+="")?q[t]:q[t]=E(t)},keyFor:function(t){if(Q(t))return v(q,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){J=!0},useSimple:function(){J=!1}}),a(a.S+a.F*!z,"Object",{create:H,defineProperty:V,defineProperties:G,getOwnPropertyDescriptor:Z,getOwnPropertyNames:X,getOwnPropertySymbols:tt}),M&&a(a.S+a.F*(!z||u(function(){var t=E();return"[null]"!=T([t])||"{}"!=T({a:t})||"{}"!=T(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!Q(t)){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);return e=i[1],"function"==typeof e&&(n=e),!n&&m(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!Q(e))return e}),i[1]=e,T.apply(M,i)}}}),E[D][$]||n(18)(E[D],$,E[D].valueOf),f(E,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},399:function(t,e,n){n(380)("asyncIterator")},400:function(t,e,n){n(380)("observable")},420:function(t,e,n){e=t.exports=n(373)(),e.push([t.i,".clock{text-align:center}.clock .clock-inner{margin:30px auto;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:400px;font-size:30px;font-weight:400;color:#000}.clock .clock-inner li{-webkit-box-flex:1;-ms-flex:1;flex:1;list-style:none}.clock .clock-inner li i{display:inline-block;padding:10px 5px;background:#000;color:#eee;border-radius:5px;font-style:normal}","",{version:3,sources:["/./src/views/sign/Clock.vue"],names:[],mappings:"AACA,OACE,iBAAmB,CACpB,AACD,oBACI,iBAAkB,AAClB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,8BAA+B,AAC/B,6BAA8B,AAC1B,yBAA0B,AACtB,qBAAsB,AAC9B,yBAA0B,AACtB,sBAAuB,AACnB,8BAA+B,AACvC,YAAa,AACb,eAAgB,AAChB,gBAAoB,AACpB,UAAY,CACf,AACD,uBACM,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,eAAiB,CACtB,AACD,yBACQ,qBAAsB,AACtB,iBAAkB,AAClB,gBAAiB,AACjB,WAAY,AACZ,kBAAmB,AACnB,iBAAmB,CAC1B",file:"Clock.vue",sourcesContent:["\n.clock {\n  text-align: center;\n}\n.clock .clock-inner {\n    margin: 30px auto;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-flow: row nowrap;\n            flex-flow: row nowrap;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    width: 400px;\n    font-size: 30px;\n    font-weight: normal;\n    color: #000;\n}\n.clock .clock-inner li {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      list-style: none;\n}\n.clock .clock-inner li i {\n        display: inline-block;\n        padding: 10px 5px;\n        background: #000;\n        color: #eee;\n        border-radius: 5px;\n        font-style: normal;\n}\n"],sourceRoot:"webpack://"}])},430:function(t,e,n){var i=n(420);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(374)("8a6c3e86",i,!0)},448:function(t,e,n){n(430);var i=n(11)(n(500),n(464),null,null);t.exports=i.exports},449:function(t,e,n){var i=n(11)(n(503),n(469),null,null);t.exports=i.exports},450:function(t,e,n){var i=n(11)(n(504),n(462),null,null);t.exports=i.exports},455:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign-list-page"},[n("h1",{staticClass:"text-center"},[t._v("全部签到记录")]),t._v(" "),n("sign-table",{ref:"table",attrs:{api:"duty/get",subject:"签到","query-view":!0}})],1)},staticRenderFns:[]}},462:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign-table"},[n("el-table",{attrs:{border:"",stripe:"",data:t.data}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"70"}}),t._v(" "),n("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),t._v(" "),n("el-table-column",{attrs:{prop:"depName",label:"部门"}}),t._v(" "),n("el-table-column",{attrs:{prop:"signIn",label:"上班时间"}}),t._v(" "),n("el-table-column",{attrs:{prop:"signOut",label:"下班时间"}}),t._v(" "),n("el-table-column",{attrs:{prop:"meno",label:"备注"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([["default",function(e){return[n("el-button",{attrs:{plain:"",size:"small",type:"danger"},on:{click:function(n){t.delRow(e.row)}}},[t._v("删除")])]}]])})],1),t._v(" "),n("div",{staticClass:"paging mt10 clearfix"},[n("ex-pagination",{attrs:{paging:t.paging},on:{"paging-change":t.handlePagingChange}})],1)],1)},staticRenderFns:[]}},464:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"clock"},[n("ul",{staticClass:"clock-inner"},[n("li",{staticClass:"date"},[n("i",[t._v(t._s(t.y))]),t._v("-"),n("i",[t._v(t._s(t.m))]),t._v("-"),n("i",[t._v(t._s(t.d))])]),t._v(" "),n("li",{staticClass:"time"},[n("i",[t._v(t._s(t.h))]),t._v(":"),n("i",[t._v(t._s(t.i))]),t._v(":"),n("i",[t._v(t._s(t.s))])])])])},staticRenderFns:[]}},469:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign-table"},[n("el-table",{attrs:{border:"",stripe:"",data:t.data}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"70"}}),t._v(" "),n("el-table-column",{attrs:{prop:"sign_in",label:"上班时间"}}),t._v(" "),n("el-table-column",{attrs:{prop:"sign_out",label:"下班时间"}})],1),t._v(" "),n("div",{staticClass:"paging mt10 clearfix"},[n("ex-pagination",{attrs:{paging:t.paging},on:{"paging-change":t.handlePagingChange}})],1)],1)},staticRenderFns:[]}},475:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign-page"},[n("div",{staticClass:"text-center"},[n("clock"),t._v(" "),n("el-button",{attrs:{size:"large",type:"success"},on:{click:t.sign}},[t._v("打卡")])],1)])},staticRenderFns:[]}},481:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign-list-page"},[n("h1",{staticClass:"text-center"},[t._v("我的签到记录")]),t._v(" "),n("my-sign-table",{ref:"table",attrs:{api:"duty/get",subject:"签到","query-view":!1,"query-condition":{user_id:t.user.userId}}})],1)},staticRenderFns:[]}},500:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0});var o=n(39),r=n.n(o),a=n(38);e.default={name:"Clock",data:function(){return{now:new Date,timer:null}},computed:r()({},n.i(a.b)(["servertime"]),{y:function(){return this.now.getFullYear()},m:function(){return t.d2(this.now.getMonth()+1)},d:function(){return t.d2(this.now.getDate())},h:function(){return t.d2(this.now.getHours())},i:function(){return t.d2(this.now.getMinutes())},s:function(){return t.d2(this.now.getSeconds())}}),methods:r()({},n.i(a.a)(["setServertime"]),{clockStart:function(){var e=this;t.log(this.servertime),this.now=this.servertime;var n=function t(){e.now=new Date(e.now.getTime()+1e3),e.timer=setTimeout(t,1e3)};n()},clockStop:function(){clearTimeout(this.timer)},getServerTime:function(e){var n=this;i.get(t.getApi("home/time")).then(t.resolvedCallback("",function(t){n.setServertime(t.data.servertime),e&&setTimeout(e,1e3)}))}}),created:function(){var t=this;this.getServerTime(function(){t.clockStart()})}}}).call(e,n(5),n(16))},501:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(39),o=n.n(i),r=n(38),a=n(450),s=n.n(a);e.default={name:"SignListPage",computed:o()({},n.i(r.b)(["user"])),components:{SignTable:s.a},created:function(){t.checkLogin(this)}}}).call(e,n(5))},502:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(39),o=n.n(i),r=n(38),a=n(449),s=n.n(a);e.default={name:"SignListPage",computed:o()({},n.i(r.b)(["user"])),components:{MySignTable:s.a},created:function(){t.checkLogin(this)}}}).call(e,n(5))},503:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(382);e.default={name:"MySignTable",mixins:[i.a]}},504:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(382);e.default={name:"SignTable",mixins:[i.a]}},505:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0});var o=n(39),r=n.n(o),a=n(38),s=n(448),c=n.n(s);e.default={name:"SignPage",data:function(){return{beDuty:!1}},computed:r()({},n.i(a.b)(["user"])),methods:{onduty:function(){this.duty("on")},offduty:function(){this.duty("off")},checkLogin:function(){var t=!0;return this.user.userId||(this.$message.warning("请先登录.."),t=!1),t},duty:function(e){var n=this;if(this.checkLogin()){var o="on"===e?"signin":"signout";t.get(i.getApi("duty/"+o)).then(i.resolvedCallback(this.beDuty?"下班打卡":"上班打卡",function(t){i.warn(t),n.beDuty=!0}))}},sign:function(){var e=this;this.checkLogin()&&t.get(i.getApi("duty/smartsign")).then(function(t){t.ok?e.$message.success(t.msg+"成功!"):e.$message.error(""+t.msg)})}},components:{Clock:c.a},created:function(){var e=this;i.checkLogin(this),this.checkLogin()&&t.get(i.getApi("duty/checksigned")).then(i.resolvedCallback("",function(t){e.beDuty=t.data.signed}))}}}).call(e,n(16),n(5))}});
//# sourceMappingURL=2.513d10fe6f0d56e49514.js.map