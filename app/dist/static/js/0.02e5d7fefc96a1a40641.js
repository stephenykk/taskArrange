webpackJsonp([0],{156:function(t,e,n){n(465);var r=n(11)(n(433),n(501),"data-v-42d1f055",null);t.exports=r.exports},381:function(t,e,n){var r=n(11)(n(432),n(513),null,null);t.exports=r.exports},383:function(t,e,n){var r=n(12),a=n(7),i=n(147),o=n(384),s=n(26).f;t.exports=function(t){var e=a.Symbol||(a.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},384:function(t,e,n){e.f=n(8)},385:function(t,e,n){"use strict";(function(t,r){var a=n(391),i=n.n(a),o=n(77),s=n.n(o);e.a={props:{api:{type:String,required:!0},active:{type:Boolean,default:!0},idkey:{type:String,default:"id"},order:{type:String,default:""},subject:String,queryView:Boolean,queryCondition:Object},data:function(){return{paging:{total:0},params:t.pagingParams(),data:[]}},computed:{delApi:function(){var t=this.api.split("/");return t[t.length-1]="delete",t.join("/")}},methods:{handlePagingChange:function(e){this.params=t.pagingParams(e),this.load(!0)},load:function(e){var n=this,a=this.params;this.order&&s()(a,{order:this.order});var o=this.queryView?{view:!0}:{},l=this.queryCondition;"object"===(void 0===l?"undefined":i()(l))&&s()(o,l);var u="获取"+this.subject+"数据",c=function(t){n.data=t.data,n.paging.total=t.total};c.notips=e,r.post(t.getApi(this.api,a),o).then(t.resolvedCallback(u,c))},editRow:function(t){this.$emit("edit",t)},delRow:function(t){this.$emit("del",t),this.delConfirm(t[this.idkey])},delConfirm:function(t){var e=this;this.$confirm("确定删除"+this.subject+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.removeRow(t)}).catch(function(){e.$message.info("取消删除")})},removeRow:function(e){var n=this;r.get(t.getApi(this.delApi+"/"+e)).then(t.resolvedCallback("删除",function(){return n.load(!0)}))}},watch:{active:function(){this.active&&this.load()}},mounted:function(){this.active&&this.$store.state.user.userId&&this.load()}}}).call(e,n(6),n(17))},386:function(t,e,n){var r=n(152),a=n(79).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,a)}},387:function(t,e,n){"use strict";(function(t,n){e.a={props:{saveApi:String,editApi:String,idkey:{type:String,default:"id"},current:{type:Object,default:function(){return{}}}},data:function(){return{rules:{}}},computed:{id:function(){return this.current[this.idkey]},isEdit:function(){return!!this.current[this.idkey]}},methods:{save:function(){var e=this,r=t.compact(t.extend({},this.current));if(this.preSave)try{r=this.preSave(r)}catch(t){return void this.$message.error(t.message)}var a=(this.isEdit?"修改":"新增")+this.subject,i=this.isEdit?this.editApi:this.saveApi;this.isEdit&&delete r[this.idkey],n.post(t.getApi(i),r).then(t.resolvedCallback(a,function(){e.postSave(),e.$emit("save-done")}))},postSave:function(){this.hide&&"function"==typeof this.hide&&this.hide()}}}}).call(e,n(6),n(17))},388:function(t,e,n){"use strict";e.a={props:["subject"],data:function(){return{visible:!1}},methods:{show:function(){this.visible=!0},hide:function(){this.visible=!1}}}},389:function(t,e,n){t.exports={default:n(392),__esModule:!0}},390:function(t,e,n){t.exports={default:n(393),__esModule:!0}},391:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var a=n(390),i=r(a),o=n(389),s=r(o),l="function"==typeof s.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===l(i.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":l(t)}},392:function(t,e,n){n(401),n(400),n(402),n(403),t.exports=n(7).Symbol},393:function(t,e,n){n(82),n(83),t.exports=n(384).f("iterator")},394:function(t,e,n){var r=n(74),a=n(148),i=n(146);t.exports=function(t){var e=r(t),n=a.f;if(n)for(var o,s=n(t),l=i.f,u=0;s.length>u;)l.call(t,o=s[u++])&&e.push(o);return e}},395:function(t,e,n){var r=n(78);t.exports=Array.isArray||function(t){return"Array"==r(t)}},396:function(t,e,n){var r=n(74),a=n(38);t.exports=function(t,e){for(var n,i=a(t),o=r(i),s=o.length,l=0;s>l;)if(i[n=o[l++]]===e)return n}},397:function(t,e,n){var r=n(76)("meta"),a=n(43),i=n(25),o=n(26).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(41)(function(){return l(Object.preventExtensions({}))}),c=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},p=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[r].i},f=function(t,e){if(!i(t,r)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[r].w},d=function(t){return u&&v.NEED&&l(t)&&!i(t,r)&&c(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:p,getWeak:f,onFreeze:d}},398:function(t,e,n){var r=n(146),a=n(75),i=n(38),o=n(149),s=n(25),l=n(150),u=Object.getOwnPropertyDescriptor;e.f=n(18)?u:function(t,e){if(t=i(t),e=o(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return a(!r.f.call(t,e),t[e])}},399:function(t,e,n){var r=n(38),a=n(386).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return a(t)}catch(t){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==i.call(t)?s(t):a(r(t))}},400:function(t,e){},401:function(t,e,n){"use strict";var r=n(12),a=n(25),i=n(18),o=n(42),s=n(153),l=n(397).KEY,u=n(41),c=n(81),p=n(80),f=n(76),d=n(8),v=n(384),y=n(383),m=n(396),h=n(394),b=n(395),g=n(27),_=n(38),x=n(149),A=n(75),w=n(151),S=n(399),C=n(398),k=n(26),j=n(74),E=C.f,M=k.f,T=S.f,O=r.Symbol,F=r.JSON,$=F&&F.stringify,P=d("_hidden"),B=d("toPrimitive"),q={}.propertyIsEnumerable,N=c("symbol-registry"),R=c("symbols"),I=c("op-symbols"),D=Object.prototype,z="function"==typeof O,J=r.QObject,K=!J||!J.prototype||!J.prototype.findChild,U=i&&u(function(){return 7!=w(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=E(D,e);r&&delete D[e],M(t,e,n),r&&t!==D&&M(D,e,r)}:M,W=function(t){var e=R[t]=w(O.prototype);return e._k=t,e},L=z&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},Y=function(t,e,n){return t===D&&Y(I,e,n),g(t),e=x(e,!0),g(n),a(R,e)?(n.enumerable?(a(t,P)&&t[P][e]&&(t[P][e]=!1),n=w(n,{enumerable:A(0,!1)})):(a(t,P)||M(t,P,A(1,{})),t[P][e]=!0),U(t,e,n)):M(t,e,n)},V=function(t,e){g(t);for(var n,r=h(e=_(e)),a=0,i=r.length;i>a;)Y(t,n=r[a++],e[n]);return t},G=function(t,e){return void 0===e?w(t):V(w(t),e)},Q=function(t){var e=q.call(this,t=x(t,!0));return!(this===D&&a(R,t)&&!a(I,t))&&(!(e||!a(this,t)||!a(R,t)||a(this,P)&&this[P][t])||e)},X=function(t,e){if(t=_(t),e=x(e,!0),t!==D||!a(R,e)||a(I,e)){var n=E(t,e);return!n||!a(R,e)||a(t,P)&&t[P][e]||(n.enumerable=!0),n}},H=function(t){for(var e,n=T(_(t)),r=[],i=0;n.length>i;)a(R,e=n[i++])||e==P||e==l||r.push(e);return r},Z=function(t){for(var e,n=t===D,r=T(n?I:_(t)),i=[],o=0;r.length>o;)!a(R,e=r[o++])||n&&!a(D,e)||i.push(R[e]);return i};z||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===D&&e.call(I,n),a(this,P)&&a(this[P],t)&&(this[P][t]=!1),U(this,t,A(1,n))};return i&&K&&U(D,t,{configurable:!0,set:e}),W(t)},s(O.prototype,"toString",function(){return this._k}),C.f=X,k.f=Y,n(386).f=S.f=H,n(146).f=Q,n(148).f=Z,i&&!n(147)&&s(D,"propertyIsEnumerable",Q,!0),v.f=function(t){return W(d(t))}),o(o.G+o.W+o.F*!z,{Symbol:O});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var tt=j(d.store),et=0;tt.length>et;)y(tt[et++]);o(o.S+o.F*!z,"Symbol",{for:function(t){return a(N,t+="")?N[t]:N[t]=O(t)},keyFor:function(t){if(L(t))return m(N,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){K=!0},useSimple:function(){K=!1}}),o(o.S+o.F*!z,"Object",{create:G,defineProperty:Y,defineProperties:V,getOwnPropertyDescriptor:X,getOwnPropertyNames:H,getOwnPropertySymbols:Z}),F&&o(o.S+o.F*(!z||u(function(){var t=O();return"[null]"!=$([t])||"{}"!=$({a:t})||"{}"!=$(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!L(t)){for(var e,n,r=[t],a=1;arguments.length>a;)r.push(arguments[a++]);return e=r[1],"function"==typeof e&&(n=e),!n&&b(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!L(e))return e}),r[1]=e,$.apply(F,r)}}}),O.prototype[B]||n(19)(O.prototype,B,O.prototype.valueOf),p(O,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},402:function(t,e,n){n(383)("asyncIterator")},403:function(t,e,n){n(383)("observable")},404:function(t,e,n){"use strict";var r=[{label:"临时任务",value:"once"},{label:"每天任务",value:"daily"},{label:"每周任务",value:"weekly"},{label:"每月任务",value:"monthly"},{label:"每季任务",value:"quarter"},{label:"每年任务",value:"yearly"}],a={title:"任务名称",content:"任务内容",expect_start:"开始时间",expect_end:"结束时间",reciever:"负责人",frequency:"任务类型"},i={created:"已创建",assigned:"已分派",recieved:"已接收",doing:"进行中",finish:"已完成",delay:"延迟"},o=[{status:"created",text:"创建"},{status:"assigned",text:"分派"},{status:"recieved",text:"接受"},{status:"doing",text:"开始"},{status:"finish",text:"结束"},{status:"delay",text:"延迟"}],s={assigned:"assign_time",recieved:"recieve_time",doing:"task_start",finish:"task_end"},l={id:"",creator:"",status:"created",expect_start:"",expect_end:"",frequency:"daily"};e.a={taskTypes:r,requiredFields:a,statusMap:i,statusSteps:o,statusTimeFields:s,newTask:l}},411:function(t,e,n){"use strict";var r=n(404),a=r.a.statusSteps,i={assigned:"assign_time",recieved:"recieve_time",doing:"job_start",finish:"job_end"},o=[{value:"network",label:"上网问题"},{value:"print",label:"打印问题"},{value:"program",label:"程序问题"},{value:"hardware",label:"设备问题"},{value:"other",label:"其他问题"}],s={id:"",title:"",content:"",type:"network",status:"created",dep_id:"",addr:"",tel:"",creator:"",ctime:"",mtime:""},l={created:"已申请",assigned:"已分派",recieved:"已接收",doing:"处理中",finish:"已完成",delay:"延迟"},u={title:"任务名称",content:"任务内容",dep_id:"部门",type:"故障类型",addr:"所在地址",tel:"电话"};e.a={faultTypes:o,newApply:s,requiredFields:u,statusMap:l,statusSteps:a,statusTimeFields:i}},429:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,r){var a=n(39),i=n.n(a),o=n(40),s=n(387),l=n(411),u=l.a.faultTypes,c=l.a.requiredFields;e.default={name:"ApplyForm",mixins:[s.a],props:{subject:{type:String,default:function(){return"申请"}},saveApi:{type:String,default:"apply/insert"},editApi:{type:String,default:"apply/update"},current:{type:[Object,null],default:function(){return{}}}},data:function(){return{faultTypes:u}},computed:i()({},n.i(o.b)(["user"])),methods:{onSelectDep:function(e){var n=this;e&&(this.current.dep_id=e,t.post(r.getApi("dep/get"),{id:e}).then(r.resolvedCallback("获取部门",function(t){var e=t.data[0];n.current.addr=e.addr,n.current.tel=e.tel})))},preSave:function(t){return r.eachKey(c,function(e,n){if(!t[n])throw new Error(e+"不能为空..")}),this.isEdit||(t.creator=this.user.userId,t.ctime=r.formatDatetime()),t.mtime=r.formatDatetime(),t},postSave:function(){r.log("save ok..")}},created:function(){this.user.userId&&(this.current.creator=this.user.userId)}}}.call(e,n(17),n(6))},430:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,r){var a=n(39),i=n.n(a),o=n(388),s=n(40);e.default={name:"ApplyAssignModal",mixins:[o.a],props:{conf:null,current:{type:Object,default:function(){return{}}}},data:function(){return{onlyFree:!0}},computed:i()({},n.i(s.b)(["user"])),methods:{onSelectUser:function(t){this.current.reciever=t},save:function(){var e=this,n=this.current,a=n.reciever;if(!a)return void this.$message.warning("技术员不能为空..");if(!n.id)return void this.$message.warning("缺少必要参数 id");var i=this.user.userId,o=t.formatDatetime(),s={reciever:a,assigner:i,assign_time:o,status:"assigned"};r.post(t.getApi("apply/update/"+n.id),s).then(t.resolvedCallback("分派",function(){e.hide(),e.$emit("reload")}))}}}}.call(e,n(6),n(17))},431:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(385),a=n(411),i=a.a.statusMap,o=a.a.faultTypes;e.default={name:"ApplyTable",mixins:[r.a],methods:{showModal:function(t){this.$emit("modal-show",t)}},filters:{statusText:function(t){return i[t]},faultTypeText:function(t){var e=o.filter(function(e){return e.value===t})[0];return e?e.label:""}}}},432:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(478),a=n.n(r),i=n(477),o=n.n(i);e.default={name:"ApplyListPage",data:function(){return{curApply:{title:"",content:"",reciever:""}}},methods:{showModal:function(t){this.curApply=t,this.$refs.modal.show()},nav2edit:function(t){this.$router.push({name:"applyEdit",params:{id:t.id}})}},components:{ApplyTable:a.a,ApplyModal:o.a}}},433:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var r=n(39),a=n.n(r),i=n(40),o=n(480),s=n.n(o),l=n(479),u=n.n(l);e.default={name:"MyApplyPage",data:function(){return{tblActive:!1,curApply:{}}},computed:a()({},n.i(i.b)(["user"])),components:{MyApplyTable:s.a,MyApplyModal:u.a},methods:{showModal:function(t){this.curApply=t,this.$refs.modal.show()}},created:function(){t.checkLogin(this),this.user.userId&&(this.tblActive=!0)}}}.call(e,n(6))},434:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,r){var a=n(388);e.default={name:"ApplyMenoModal",mixins:[a.a],props:{conf:null,current:{type:Object,default:function(){return{}}}},methods:{save:function(){var e=this,n=this.current,a=n.reason.trim(),i=n.result;return i?a?n.id?void t.post(r.getApi("/apply/update/"+n.id),{result:i,reason:a}).then(r.resolvedCallback("备注",function(){e.hide()})):void this.$message.warning("缺少必要参数 id"):void this.$message.warning("备注不能为空.."):void this.$message.warning("维修结果不能为空..")}}}}.call(e,n(17),n(6))},435:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,r){var a=n(154),i=n.n(a),o=n(385),s=n(411),l=s.a.statusMap,u=s.a.faultTypes,c=s.a.statusSteps,p=s.a.statusTimeFields;e.default={name:"MyApplyTable",mixins:[o.a],methods:{hasNextStatus:function(e){return t.nextStatus(e,c)},showModal:function(t){this.$emit("modal-show",t)},updateApply:function(t){this.hasNextStatus(t.status)?this.setStatus(t):this.$emit("modal-show",t)},setStatus:function(e){var n=this,a=e.id,o=e.status,s=t.nextStatus(o,c);if(!s)return void this.$message.warning("已完成的维修申请..");var l=p[s.status];r.post(t.getApi("/apply/update/"+a),i()({status:s.status},l,t.formatDatetime())).then(t.resolvedCallback(s.text+"维修服务",function(){n.load(!0)}))}},filters:{statusText:function(t){return l[t]},faultTypeText:function(t){var e=u.filter(function(e){return e.value===t})[0];return e?e.label:""},nextStatusText:function(e){var n=t.nextStatus(e,c);return n?n.text:"备注"}}}}.call(e,n(6),n(17))},436:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,r){var a=n(77),i=n.n(a),o=n(476),s=n.n(o),l=n(411),u=l.a.newApply;e.default={name:"ApplyPage",data:function(){return{curApply:i()({},u)}},methods:{onSaved:function(){this.curApply.id||(this.curApply=i()({},u))},getApply:function(){var e=this,n=this.$route,a=n.name,i=n.params;"applyEdit"===a&&i.id&&t.post(r.getApi("apply/get"),{id:i.id}).then(r.resolvedCallback("获取申请",function(t){e.curApply=t.data[0]}))}},components:{ApplyForm:s.a},watch:{$route:"getApply"},created:function(){r.checkLogin(this),this.getApply()}}}.call(e,n(17),n(6))},452:function(t,e,n){e=t.exports=n(376)(),e.push([t.i,".apply-table .action-td .cell{padding:0 5px}","",{version:3,sources:["E:/taskArrange/app/src/views/apply/MyApplyTable.vue"],names:[],mappings:"AACA,8BACE,aAAe,CAChB",file:"MyApplyTable.vue",sourcesContent:["\n.apply-table .action-td .cell {\n  padding: 0 5px;\n}\n"],sourceRoot:""}])},455:function(t,e,n){e=t.exports=n(376)(),e.push([t.i,"h1[data-v-42d1f055]{font-size:30px;font-weight:400}","",{version:3,sources:["E:/taskArrange/app/src/views/apply/My.vue"],names:[],mappings:"AACA,oBACE,eAAgB,AAChB,eAAoB,CACrB",file:"My.vue",sourcesContent:["\nh1[data-v-42d1f055] {\n  font-size: 30px;\n  font-weight: normal;\n}\n"],sourceRoot:""}])},456:function(t,e,n){e=t.exports=n(376)(),e.push([t.i,".apply-table .action-td .cell{padding:0 5px}","",{version:3,sources:["E:/taskArrange/app/src/views/apply/ApplyTable.vue"],names:[],mappings:"AACA,8BACE,aAAe,CAChB",file:"ApplyTable.vue",sourcesContent:["\n.apply-table .action-td .cell {\n  padding: 0 5px;\n}\n"],sourceRoot:""}])},457:function(t,e,n){e=t.exports=n(376)(),e.push([t.i,".apply-page h1{font-size:23px;font-weight:400}","",{version:3,sources:["E:/taskArrange/app/src/views/apply/index.vue"],names:[],mappings:"AACA,eACE,eAAgB,AAChB,eAAoB,CACrB",file:"index.vue",sourcesContent:["\n.apply-page h1 {\n  font-size: 23px;\n  font-weight: normal;\n}\n"],sourceRoot:""}])},460:function(t,e,n){e=t.exports=n(376)(),e.push([t.i,"h1[data-v-dc4ea88e]{font-size:35px}.apply-create-page[data-v-dc4ea88e]{width:60%;margin:auto;margin-top:50px}","",{version:3,sources:["E:/taskArrange/app/src/views/apply/ApplyForm.vue"],names:[],mappings:"AACA,oBACE,cAAgB,CACjB,AACD,oCACE,UAAW,AACX,YAAa,AACb,eAAiB,CAClB",file:"ApplyForm.vue",sourcesContent:["\nh1[data-v-dc4ea88e] {\n  font-size: 35px;\n}\n.apply-create-page[data-v-dc4ea88e] {\n  width: 60%;\n  margin: auto;\n  margin-top: 50px;\n}\n"],sourceRoot:""}])},462:function(t,e,n){var r=n(452);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(377)("cf3ed3c2",r,!0)},465:function(t,e,n){var r=n(455);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(377)("c3a64902",r,!0)},466:function(t,e,n){var r=n(456);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(377)("3b82466a",r,!0)},467:function(t,e,n){var r=n(457);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(377)("44ee93ce",r,!0)},470:function(t,e,n){var r=n(460);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(377)("753dc354",r,!0)},476:function(t,e,n){n(470);var r=n(11)(n(429),n(515),"data-v-dc4ea88e",null);t.exports=r.exports},477:function(t,e,n){var r=n(11)(n(430),n(509),null,null);t.exports=r.exports},478:function(t,e,n){n(466);var r=n(11)(n(431),n(507),null,null);t.exports=r.exports},479:function(t,e,n){var r=n(11)(n(434),n(490),null,null);t.exports=r.exports},480:function(t,e,n){n(462);var r=n(11)(n(435),n(492),null,null);t.exports=r.exports},490:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"维修结果"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("el-form",{attrs:{model:t.current,"label-width":"120px","label-position":"right"}},[n("el-form-item",{attrs:{label:"故障: ",prop:"title"}},[n("div",[t._v(t._s(t.current.title))])]),t._v(" "),n("el-form-item",{attrs:{label:"故障描述: ",prop:"content"}},[n("div",[t._v(t._s(t.current.content))])]),t._v(" "),n("el-form-item",{attrs:{label:"维修结果",prop:"result"}},[n("el-select",{model:{value:t.current.result,callback:function(e){t.current.result=e},expression:"current.result"}},[n("el-option",{attrs:{value:"fixed",label:"已修好"}}),t._v(" "),n("el-option",{attrs:{value:"unfixed",label:"未修好"}}),t._v(" "),n("el-option",{attrs:{value:"delay",label:"延期处理"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"维修备注: ",prop:"reason"}},[n("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.current.reason,callback:function(e){t.current.reason=e},expression:"current.reason"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")]),t._v(" "),n("el-button",{attrs:{type:"default"},on:{click:t.hide}},[t._v("取消")])],1)],1)},staticRenderFns:[]}},492:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"apply-table"},[n("el-table",{attrs:{border:"",stripe:"",data:t.data}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"70"}}),t._v(" "),n("el-table-column",{attrs:{prop:"title",label:"故障名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"type",label:"故障类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("faultTypeText")(e.row.type))+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"recieverName",label:"技术员"}}),t._v(" "),n("el-table-column",{attrs:{prop:"creatorName",label:"申请人"}}),t._v(" "),n("el-table-column",{attrs:{prop:"assignerName",label:"分派人"}}),t._v(" "),n("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("statusText")(e.row.status))+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"assign_time",label:"分派时间",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"recieve_time",label:"接受时间",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"job_start",label:"开始时间",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"job_end",label:"结束时间",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作","class-name":"action-td",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:t.hasNextStatus(e.row.status)?"primary":"success"},on:{click:function(n){t.updateApply(e.row)}}},[t._v("\n        "+t._s(t._f("nextStatusText")(e.row.status)))])]}}])})],1),t._v(" "),n("div",{staticClass:"paging mt10 clearfix"},[n("ex-pagination",{attrs:{paging:t.paging},on:{"paging-change":t.handlePagingChange}})],1)],1)},staticRenderFns:[]}},501:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"apply-page apply-admin"},[n("h1",{staticClass:"text-center"},[t._v("我的故障列表")]),t._v(" "),n("my-apply-table",{ref:"table",attrs:{api:"apply/get","query-condition":{reciever:t.user.userId},idkey:"id",subject:"申请","query-view":!0,active:t.tblActive},on:{"modal-show":t.showModal}}),t._v(" "),n("my-apply-modal",{ref:"modal",attrs:{current:t.curApply}})],1)},staticRenderFns:[]}},507:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"apply-table"},[n("el-table",{attrs:{border:"",stripe:"",data:t.data}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"70"}}),t._v(" "),n("el-table-column",{attrs:{prop:"title",label:"故障名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"type",label:"故障类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("faultTypeText")(e.row.type))+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"recieverName",label:"技术员"}}),t._v(" "),n("el-table-column",{attrs:{prop:"creatorName",label:"申请人"}}),t._v(" "),n("el-table-column",{attrs:{prop:"assignerName",label:"分派人"}}),t._v(" "),n("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("statusText")(e.row.status))+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"job_start",label:"开始时间"}}),t._v(" "),n("el-table-column",{attrs:{prop:"job_end",label:"结束时间"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作","class-name":"action-td",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{plain:"",size:"small",type:"primary"},on:{click:function(n){t.showModal(e.row)}}},[t._v("分派")]),t._v(" "),n("el-button",{attrs:{plain:"",size:"small",type:"primary"},on:{click:function(n){t.editRow(e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{plain:"",size:"small",type:"danger"},on:{click:function(n){t.delRow(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("div",{staticClass:"paging mt10 clearfix"},[n("ex-pagination",{attrs:{paging:t.paging},on:{"paging-change":t.handlePagingChange}})],1)],1)},staticRenderFns:[]}},509:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"分派服务"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("el-form",{attrs:{model:t.current,"label-width":"120px","label-position":"right"}},[n("el-form-item",{attrs:{label:"故障: ",prop:"title"}},[n("div",[t._v(t._s(t.current.title))])]),t._v(" "),n("el-form-item",{attrs:{label:"故障描述: ",prop:"content"}},[n("div",[t._v(t._s(t.current.content))])]),t._v(" "),n("el-form-item",{attrs:{label:"技术员: ",prop:"reciever"}},[t.onlyFree?n("ui-select",{key:"freeSel",attrs:{api:"user/getFreeIters",fields:["userId","userName"],value:t.current.reciever},on:{change:t.onSelectUser}}):n("ui-select",{key:"allSel",attrs:{api:"user/getIters",fields:["userId","userName"],value:t.current.reciever},on:{change:t.onSelectUser}}),t._v(" "),n("el-checkbox",{model:{value:t.onlyFree,callback:function(e){t.onlyFree=e},expression:"onlyFree"}},[t._v("仅空闲技术员")])],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")]),t._v(" "),n("el-button",{attrs:{type:"default"},on:{click:t.hide}},[t._v("取消")])],1)],1)},staticRenderFns:[]}},510:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"apply-page"},[n("h1",{staticClass:"text-center"},[t._v("故障服务申请")]),t._v(" "),n("apply-form",{attrs:{"edit-api":"apply/update/"+t.curApply.id,current:t.curApply},on:{"save-done":t.onSaved}})],1)},staticRenderFns:[]}},513:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"apply-list-page"},[n("h1",{staticClass:"text-center"},[t._v("故障申请列表")]),t._v(" "),n("apply-table",{ref:"table",attrs:{api:"apply/get",subject:"申请","query-view":!0},on:{edit:t.nav2edit,"modal-show":t.showModal}}),t._v(" "),n("apply-modal",{ref:"modal",attrs:{current:t.curApply},on:{reload:function(e){t.$refs.table.load()}}})],1)},staticRenderFns:[]}},515:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"apply-page apply-create-page"},[n("el-form",{attrs:{"label-width":"150px","label-position":"right"}},[n("el-form-item",{attrs:{required:"",label:"部门:"}},[n("ui-select",{attrs:{api:"dep/get",value:t.current.dep_id},on:{change:t.onSelectDep}})],1),t._v(" "),n("el-form-item",{attrs:{required:"",label:"故障类型:"}},[n("el-select",{attrs:{placeholder:"故障类型"},model:{value:t.current.type,callback:function(e){t.current.type=e},expression:"current.type"}},t._l(t.faultTypes,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),n("el-form-item",{attrs:{required:"",label:"故障名称:"}},[n("el-input",{model:{value:t.current.title,callback:function(e){t.current.title=e},expression:"current.title"}})],1),t._v(" "),n("el-form-item",{attrs:{required:"",label:"故障描述:"}},[n("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.current.content,callback:function(e){t.current.content=e},expression:"current.content"}})],1),t._v(" "),n("el-form-item",{attrs:{required:"",label:"所在地址:"}},[n("el-input",{model:{value:t.current.addr,callback:function(e){t.current.addr=e},expression:"current.addr"}})],1),t._v(" "),n("el-form-item",{attrs:{required:"",label:"联系电话:"}},[n("el-input",{model:{value:t.current.tel,callback:function(e){t.current.tel=e},expression:"current.tel"}})],1),t._v(" "),n("el-form-item",{attrs:{required:""}},[n("div",{staticClass:"action"},[n("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v(t._s(t.isEdit?"保存":"创建"))])],1)])],1)],1)},staticRenderFns:[]}},84:function(t,e,n){n(467);var r=n(11)(n(436),n(510),null,null);t.exports=r.exports}});
//# sourceMappingURL=0.02e5d7fefc96a1a40641.js.map