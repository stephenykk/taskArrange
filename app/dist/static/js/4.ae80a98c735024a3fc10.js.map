{"version":3,"sources":["webpack:///static/js/4.ae80a98c735024a3fc10.js","webpack:///./src/views/user/index.vue","webpack:///./src/views/mixins/form.js?b8e3**","webpack:///UserForm.vue?a1b6","webpack:///./src/views/admin/users/UserForm.vue?0809*","webpack:///./src/views/admin/users/UserForm.vue?b74a*","webpack:///./src/views/admin/users/UserForm.vue","webpack:///./src/views/admin/users/UserForm.vue?d24c*","webpack:///index.vue?3baf","webpack:///./src/views/user/index.vue?4358"],"names":["webpackJsonp","163","module","exports","__webpack_require__","Component","387","__webpack_exports__","P","axios","props","saveApi","String","editApi","idkey","type","default","current","Object","data","rules","computed","id","this","isEdit","methods","save","_this","compact","extend","preSave","err","$message","error","message","action","subject","api","post","getApi","then","resolvedCallback","postSave","$emit","hide","call","406","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_mixins_form__","name","mixins","uploadApi","checkUploadFile","file","isImg","match","isLt2M","size","avatarUrl","getAvatarUrl","onUploaded","res","ok","$set","url","onSelectDep","dep_id","onSelectRole","role_id","407","push","i","version","sources","names","mappings","sourcesContent","sourceRoot","408","content","locals","409","410","render","_vm","_h","$createElement","_c","_self","attrs","model","label-width","label-position","label","prop","minlength","maxlength","callback","$$v","expression","_v","nick_name","pwd","placeholder","clearable","sex","_l","item","key","tel","mobile","staticClass","show-file-list","on-success","before-upload","avatar","src","position","on","change","disabled","isUserCenter","fields","staticRenderFns","451","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1__views_admin_users_UserForm__","__WEBPACK_IMPORTED_MODULE_1__views_admin_users_UserForm___default","__WEBPACK_IMPORTED_MODULE_2_vuex__","components","UserForm","a","$refs","form","created","checkLogin","user","userId","length","503","span","offset","ref","is-user-center","edit-api","save-done","$event","click"],"mappings":"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","file":"static/js/4.ae80a98c735024a3fc10.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 163:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(11)(\n  /* script */\n  __webpack_require__(451),\n  /* template */\n  __webpack_require__(503),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 387:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(P, axios) {/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    saveApi: String,\n    editApi: String,\n    idkey: {\n      type: String,\n      default: 'id'\n    },\n    current: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      rules: {} };\n  },\n\n  computed: {\n    id: function id() {\n      return this.current[this.idkey];\n    },\n    isEdit: function isEdit() {\n      return !!this.current[this.idkey];\n    }\n  },\n  methods: {\n    save: function save() {\n      var _this = this;\n\n      var data = P.compact(P.extend({}, this.current));\n      if (this.preSave) {\n        try {\n          data = this.preSave(data);\n        } catch (err) {\n          this.$message.error(err.message);\n          return;\n        }\n      }\n      var action = (this.isEdit ? '修改' : '新增') + this.subject;\n      var api = this.isEdit ? this.editApi : this.saveApi;\n      if (this.isEdit) {\n        delete data[this.idkey];\n      }\n\n      axios.post(P.getApi(api), data).then(P.resolvedCallback(action, function () {\n        _this.postSave();\n        _this.$emit('save-done');\n      }));\n    },\n    postSave: function postSave() {\n      if (this.hide && typeof this.hide === 'function') {\n        this.hide();\n      }\n    }\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(6), __webpack_require__(17)))\n\n/***/ }),\n\n/***/ 406:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function(P) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_mixins_form__ = __webpack_require__(387);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'UserForm',\n  mixins: [__WEBPACK_IMPORTED_MODULE_0_mixins_form__[\"a\" /* default */]],\n  props: ['conf', 'isUserCenter'], data: function data() {\n    return {\n      uploadApi: P.getApi('/upload/image'),\n      subject: '用户'\n    };\n  },\n\n  methods: {\n    hide: function hide() {\n      this.$emit('hide-modal');\n    },\n    checkUploadFile: function checkUploadFile(file) {\n      var isImg = file.type.match(/image\\/\\w+/);\n      var isLt2M = file.size / (1024 * 1024) < 2;\n      if (!isImg) {\n        this.$message.error('请选择图片..');\n      }\n      if (!isLt2M) {\n        this.$message.error('请上传小于2M的图片');\n      }\n\n      return isImg && isLt2M;\n    },\n\n    avatarUrl: P.getAvatarUrl,\n    onUploaded: function onUploaded(res) {\n      if (res.ok) {\n        this.$set(this.current, 'avatar', res.data.url);\n      } else {\n        this.$message.error(res.data.error);\n      }\n    },\n    onSelectDep: function onSelectDep(id) {\n      this.current.dep_id = id;\n    },\n    onSelectRole: function onSelectRole(id) {\n      this.current.role_id = id;\n    }\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(6)))\n\n/***/ }),\n\n/***/ 407:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(376)();\n// imports\n\n\n// module\nexports.push([module.i, \".avatar-uploader{position:relative;width:120px;height:120px;display:inline-block;border:1px dashed #d9d9d9;border-radius:6px;overflow:hidden}.avatar-uploader:hover{border-color:#20a2ff}.avatar-uploader .avatar-plus-icon{position:absolute;top:0;left:0;font-size:20px;line-height:120px;width:100%;height:100%;text-align:center}.avatar-uploader .avatar{width:120px;height:120px}\", \"\", {\"version\":3,\"sources\":[\"E:/taskArrange/app/src/views/admin/users/UserForm.vue\"],\"names\":[],\"mappings\":\"AACA,iBACE,kBAAmB,AACnB,YAAa,AACb,aAAc,AACd,qBAAsB,AACtB,0BAA2B,AAC3B,kBAAmB,AACnB,eAAiB,CAClB,AACD,uBACI,oBAAsB,CACzB,AACD,mCACI,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,eAAgB,AAChB,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,iBAAmB,CACtB,AACD,yBACI,YAAa,AACb,YAAc,CACjB\",\"file\":\"UserForm.vue\",\"sourcesContent\":[\"\\n.avatar-uploader {\\n  position: relative;\\n  width: 120px;\\n  height: 120px;\\n  display: inline-block;\\n  border: 1px dashed #d9d9d9;\\n  border-radius: 6px;\\n  overflow: hidden;\\n}\\n.avatar-uploader:hover {\\n    border-color: #20a2ff;\\n}\\n.avatar-uploader .avatar-plus-icon {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    font-size: 20px;\\n    line-height: 120px;\\n    width: 100%;\\n    height: 100%;\\n    text-align: center;\\n}\\n.avatar-uploader .avatar {\\n    width: 120px;\\n    height: 120px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 408:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(407);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(377)(\"012e443a\", content, true);\n\n/***/ }),\n\n/***/ 409:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(408)\n\nvar Component = __webpack_require__(11)(\n  /* script */\n  __webpack_require__(406),\n  /* template */\n  __webpack_require__(410),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 410:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    attrs: {\n      \"rules\": _vm.rules,\n      \"model\": _vm.current,\n      \"label-width\": \"120px\",\n      \"label-position\": \"right\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名: \",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"minlength\": 3,\n      \"maxlength\": 20\n    },\n    model: {\n      value: (_vm.current.name),\n      callback: function($$v) {\n        _vm.current.name = $$v\n      },\n      expression: \"current.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"昵称: \",\n      \"prop\": \"nick_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"minlength\": 3,\n      \"maxlength\": 20\n    },\n    model: {\n      value: (_vm.current.nick_name),\n      callback: function($$v) {\n        _vm.current.nick_name = $$v\n      },\n      expression: \"current.nick_name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码: \",\n      \"prop\": \"pwd\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"minlength\": 3,\n      \"maxlength\": 20\n    },\n    model: {\n      value: (_vm.current.pwd),\n      callback: function($$v) {\n        _vm.current.pwd = $$v\n      },\n      expression: \"current.pwd\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"性别: \",\n      \"prop\": \"sex\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\",\n      \"clearable\": \"\"\n    },\n    model: {\n      value: (_vm.current.sex),\n      callback: function($$v) {\n        _vm.current.sex = $$v\n      },\n      expression: \"current.sex\"\n    }\n  }, _vm._l(([{\n    label: '男',\n    value: 'male'\n  }, {\n    label: '女',\n    value: 'female'\n  }]), function(item) {\n    return _c('el-option', {\n      key: item.value,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.value\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"办公电话: \",\n      \"prop\": \"tel\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.current.tel),\n      callback: function($$v) {\n        _vm.current.tel = $$v\n      },\n      expression: \"current.tel\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"手机: \",\n      \"prop\": \"mobile\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 13\n    },\n    model: {\n      value: (_vm.current.mobile),\n      callback: function($$v) {\n        _vm.current.mobile = $$v\n      },\n      expression: \"current.mobile\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"头像: \",\n      \"prop\": \"avatar\"\n    }\n  }, [_c('el-upload', {\n    staticClass: \"avatar-uploader\",\n    attrs: {\n      \"action\": _vm.uploadApi,\n      \"show-file-list\": false,\n      \"on-success\": _vm.onUploaded,\n      \"before-upload\": _vm.checkUploadFile\n    }\n  }, [(_vm.avatarUrl(_vm.current.avatar)) ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.avatarUrl(_vm.current.avatar)\n    }\n  }) : _c('i', {\n    staticClass: \"el-icon-plus avatar-plus-icon\"\n  })])], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"职称: \",\n      \"prop\": \"position\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.current.position),\n      callback: function($$v) {\n        _vm.current.position = $$v\n      },\n      expression: \"current.position\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"部门: \",\n      \"prop\": \"dep_id\"\n    }\n  }, [_c('ui-select', {\n    attrs: {\n      \"api\": \"dep/get\",\n      \"value\": _vm.current.dep_id\n    },\n    on: {\n      \"change\": _vm.onSelectDep\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"角色: \",\n      \"prop\": \"role_id\"\n    }\n  }, [_c('ui-select', {\n    attrs: {\n      \"disabled\": _vm.isUserCenter,\n      \"api\": \"role/get\",\n      \"value\": _vm.current.role_id,\n      \"fields\": ['id', 'cname']\n    },\n    on: {\n      \"change\": _vm.onSelectRole\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 451:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function(P, axios) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__views_admin_users_UserForm__ = __webpack_require__(409);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__views_admin_users_UserForm___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__views_admin_users_UserForm__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(40);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'UserPage',\n  components: {\n    UserForm: __WEBPACK_IMPORTED_MODULE_1__views_admin_users_UserForm___default.a\n  },\n  data: function data() {\n    return {\n      current: {\n        id: '',\n        sex: ''\n      }\n    };\n  },\n\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"b\" /* mapState */])(['user'])),\n  methods: {\n    save: function save() {\n      this.$refs.form.save();\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    P.checkLogin(this);\n    if (!this.user.userId) {\n      return;\n    }\n\n    axios.post(P.getApi('user/get'), { id: this.user.userId }).then(P.resolvedCallback('', function (res) {\n      if (res.data.length) {\n        _this.current = res.data[0];\n      }\n    }));\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(6), __webpack_require__(17)))\n\n/***/ }),\n\n/***/ 503:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"user-page\"\n  }, [_c('h1', {\n    staticClass: \"text-center mb20\"\n  }, [_vm._v(\"我的信息\")]), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 12,\n      \"offset\": 6\n    }\n  }, [_c('user-form', {\n    ref: \"form\",\n    attrs: {\n      \"current\": _vm.current,\n      \"is-user-center\": true,\n      \"edit-api\": (\"user/update/\" + (_vm.current.id))\n    },\n    on: {\n      \"save-done\": function($event) {\n        _vm.$emit('save-done')\n      }\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"actions text-center mb30\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": _vm.save\n    }\n  }, [_vm._v(\"保 存\")])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.ae80a98c735024a3fc10.js","var Component = require(\"!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./index.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56218d54\\\"}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./index.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/index.vue\n// module id = 163\n// module chunks = 4","export default {\r\n  props: {\r\n    saveApi: String,\r\n    editApi: String,\r\n    idkey: {\r\n      type: String,\r\n      default: 'id'\r\n    },\r\n    current: { // 当前数据记录\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      rules: {} // 表单验证规则\r\n    };\r\n  },\r\n  computed: {\r\n    id() {\r\n      return this.current[this.idkey];\r\n    },\r\n    isEdit() {\r\n      return !!this.current[this.idkey];\r\n    }\r\n  },\r\n  methods: {\r\n    save() {\r\n      let data = P.compact(P.extend({}, this.current));\r\n      if (this.preSave) {\r\n        try {\r\n          data = this.preSave(data); // check data and sort data\r\n        } catch (err) {\r\n          this.$message.error(err.message);\r\n          return;\r\n        }\r\n      }\r\n      const action = (this.isEdit ? '修改' : '新增') + this.subject;\r\n      const api = this.isEdit ? this.editApi : this.saveApi;\r\n      if (this.isEdit) {\r\n        delete data[this.idkey];\r\n      }\r\n\r\n      axios\r\n        .post(P.getApi(api), data)\r\n        .then(P.resolvedCallback(action, () => {\r\n          this.postSave();\r\n          this.$emit('save-done');\r\n        }));\r\n\r\n    },\r\n    postSave() {\r\n      if (this.hide && typeof this.hide === 'function') {\r\n        this.hide();\r\n      }\r\n    }\r\n  }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/views/mixins/form.js","<template>\r\n    <el-form :rules=\"rules\" :model=\"current\" label-width=\"120px\" label-position=\"right\">\r\n      <el-form-item label=\"用户名: \" prop=\"name\">\r\n        <el-input v-model=\"current.name\" :minlength=\"3\" :maxlength=\"20\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"昵称: \" prop=\"nick_name\">\r\n        <el-input v-model=\"current.nick_name\" :minlength=\"3\" :maxlength=\"20\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"密码: \" prop=\"pwd\">\r\n        <el-input type=\"text\" v-model=\"current.pwd\" :minlength=\"3\" :maxlength=\"20\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"性别: \" prop=\"sex\">\r\n        <el-select v-model=\"current.sex\" placeholder=\"请选择\" clearable>\r\n          <el-option v-for=\"item in [{label:'男', value: 'male'}, {label: '女', value: 'female'}]\" :label=\"item.label\" :value=\"item.value\"\r\n            :key=\"item.value\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"办公电话: \" prop=\"tel\">\r\n        <el-input v-model=\"current.tel\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"手机: \" prop=\"mobile\">\r\n        <el-input v-model=\"current.mobile\" :maxlength=\"13\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"头像: \" prop=\"avatar\">\r\n        <el-upload :action=\"uploadApi\" :show-file-list=\"false\" class=\"avatar-uploader\" :on-success=\"onUploaded\" :before-upload=\"checkUploadFile\">\r\n          <img v-if=\"avatarUrl(current.avatar)\" :src=\"avatarUrl(current.avatar)\" class=\"avatar\">\r\n          <i v-else class=\"el-icon-plus avatar-plus-icon\"></i>\r\n        </el-upload>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"职称: \" prop=\"position\">\r\n        <el-input v-model=\"current.position\" />\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"部门: \" prop=\"dep_id\">\r\n        <ui-select api=\"dep/get\" :value=\"current.dep_id\" @change=\"onSelectDep\"></ui-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"角色: \" prop=\"role_id\">\r\n        <ui-select :disabled=\"isUserCenter\" api=\"role/get\" :value=\"current.role_id\" :fields=\"['id', 'cname']\" @change=\"onSelectRole\"></ui-select>\r\n      </el-form-item>\r\n\r\n    </el-form>\r\n</template>\r\n\r\n<script>\r\n  import formMixin from 'mixins/form';\r\n\r\n  export default {\r\n    name: 'UserForm',\r\n    mixins: [formMixin],\r\n    props: ['conf', 'isUserCenter'], // 这里没有props的话， mixin的props合并不过来:(\r\n    data() {\r\n      return {\r\n        uploadApi: P.getApi('/upload/image'),\r\n        subject: '用户'\r\n      };\r\n    },\r\n    methods: {\r\n      hide() {\r\n        this.$emit('hide-modal');\r\n      },\r\n      checkUploadFile(file) {\r\n        const isImg = file.type.match(/image\\/\\w+/);\r\n        const isLt2M = file.size / (1024 * 1024) < 2;\r\n        if (!isImg) {\r\n          this.$message.error('请选择图片..');\r\n        }\r\n        if (!isLt2M) {\r\n          this.$message.error('请上传小于2M的图片');\r\n        }\r\n\r\n        return isImg && isLt2M;\r\n      },\r\n      avatarUrl: P.getAvatarUrl,\r\n      onUploaded(res) {\r\n        // P.warn(res, file);\r\n        if (res.ok) {\r\n          this.$set(this.current, 'avatar', res.data.url); // 设置响应式属性\r\n        } else {\r\n          this.$message.error(res.data.error);\r\n        }\r\n      },\r\n      onSelectDep(id) {\r\n        this.current.dep_id = id;\r\n      },\r\n      onSelectRole(id) {\r\n        this.current.role_id = id;\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n  .avatar-uploader {\r\n    $w: 120px;\r\n    position: relative;\r\n    width: $w;\r\n    height: $w;\r\n    display: inline-block;\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    overflow: hidden;\r\n\r\n    &:hover {\r\n      border-color: #20a2ff;\r\n    }\r\n\r\n    .avatar-plus-icon {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      font-size: 20px;\r\n      line-height: $w;\r\n      width: 100%;\r\n      height: 100%;\r\n      text-align: center;\r\n    }\r\n\r\n    .avatar {\r\n      width: $w;\r\n      height: $w;\r\n    }\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// UserForm.vue?d082ee1e","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.26.4@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".avatar-uploader{position:relative;width:120px;height:120px;display:inline-block;border:1px dashed #d9d9d9;border-radius:6px;overflow:hidden}.avatar-uploader:hover{border-color:#20a2ff}.avatar-uploader .avatar-plus-icon{position:absolute;top:0;left:0;font-size:20px;line-height:120px;width:100%;height:100%;text-align:center}.avatar-uploader .avatar{width:120px;height:120px}\", \"\", {\"version\":3,\"sources\":[\"E:/taskArrange/app/src/views/admin/users/UserForm.vue\"],\"names\":[],\"mappings\":\"AACA,iBACE,kBAAmB,AACnB,YAAa,AACb,aAAc,AACd,qBAAsB,AACtB,0BAA2B,AAC3B,kBAAmB,AACnB,eAAiB,CAClB,AACD,uBACI,oBAAsB,CACzB,AACD,mCACI,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,eAAgB,AAChB,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,iBAAmB,CACtB,AACD,yBACI,YAAa,AACb,YAAc,CACjB\",\"file\":\"UserForm.vue\",\"sourcesContent\":[\"\\n.avatar-uploader {\\n  position: relative;\\n  width: 120px;\\n  height: 120px;\\n  display: inline-block;\\n  border: 1px dashed #d9d9d9;\\n  border-radius: 6px;\\n  overflow: hidden;\\n}\\n.avatar-uploader:hover {\\n    border-color: #20a2ff;\\n}\\n.avatar-uploader .avatar-plus-icon {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    font-size: 20px;\\n    line-height: 120px;\\n    width: 100%;\\n    height: 100%;\\n    text-align: center;\\n}\\n.avatar-uploader .avatar {\\n    width: 120px;\\n    height: 120px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.26.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-37d239fe\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/admin/users/UserForm.vue\n// module id = 407\n// module chunks = 3 4 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.26.4@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-37d239fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./UserForm.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"012e443a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.26.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-37d239fe\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/admin/users/UserForm.vue\n// module id = 408\n// module chunks = 3 4 6","\n/* styles */\nrequire(\"!!../../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-37d239fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./UserForm.vue\")\n\nvar Component = require(\"!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./UserForm.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37d239fe\\\"}!../../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./UserForm.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/users/UserForm.vue\n// module id = 409\n// module chunks = 3 4 6","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    attrs: {\n      \"rules\": _vm.rules,\n      \"model\": _vm.current,\n      \"label-width\": \"120px\",\n      \"label-position\": \"right\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名: \",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"minlength\": 3,\n      \"maxlength\": 20\n    },\n    model: {\n      value: (_vm.current.name),\n      callback: function($$v) {\n        _vm.current.name = $$v\n      },\n      expression: \"current.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"昵称: \",\n      \"prop\": \"nick_name\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"minlength\": 3,\n      \"maxlength\": 20\n    },\n    model: {\n      value: (_vm.current.nick_name),\n      callback: function($$v) {\n        _vm.current.nick_name = $$v\n      },\n      expression: \"current.nick_name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码: \",\n      \"prop\": \"pwd\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"minlength\": 3,\n      \"maxlength\": 20\n    },\n    model: {\n      value: (_vm.current.pwd),\n      callback: function($$v) {\n        _vm.current.pwd = $$v\n      },\n      expression: \"current.pwd\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"性别: \",\n      \"prop\": \"sex\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择\",\n      \"clearable\": \"\"\n    },\n    model: {\n      value: (_vm.current.sex),\n      callback: function($$v) {\n        _vm.current.sex = $$v\n      },\n      expression: \"current.sex\"\n    }\n  }, _vm._l(([{\n    label: '男',\n    value: 'male'\n  }, {\n    label: '女',\n    value: 'female'\n  }]), function(item) {\n    return _c('el-option', {\n      key: item.value,\n      attrs: {\n        \"label\": item.label,\n        \"value\": item.value\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"办公电话: \",\n      \"prop\": \"tel\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.current.tel),\n      callback: function($$v) {\n        _vm.current.tel = $$v\n      },\n      expression: \"current.tel\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"手机: \",\n      \"prop\": \"mobile\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 13\n    },\n    model: {\n      value: (_vm.current.mobile),\n      callback: function($$v) {\n        _vm.current.mobile = $$v\n      },\n      expression: \"current.mobile\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"头像: \",\n      \"prop\": \"avatar\"\n    }\n  }, [_c('el-upload', {\n    staticClass: \"avatar-uploader\",\n    attrs: {\n      \"action\": _vm.uploadApi,\n      \"show-file-list\": false,\n      \"on-success\": _vm.onUploaded,\n      \"before-upload\": _vm.checkUploadFile\n    }\n  }, [(_vm.avatarUrl(_vm.current.avatar)) ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.avatarUrl(_vm.current.avatar)\n    }\n  }) : _c('i', {\n    staticClass: \"el-icon-plus avatar-plus-icon\"\n  })])], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"职称: \",\n      \"prop\": \"position\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.current.position),\n      callback: function($$v) {\n        _vm.current.position = $$v\n      },\n      expression: \"current.position\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"部门: \",\n      \"prop\": \"dep_id\"\n    }\n  }, [_c('ui-select', {\n    attrs: {\n      \"api\": \"dep/get\",\n      \"value\": _vm.current.dep_id\n    },\n    on: {\n      \"change\": _vm.onSelectDep\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"角色: \",\n      \"prop\": \"role_id\"\n    }\n  }, [_c('ui-select', {\n    attrs: {\n      \"disabled\": _vm.isUserCenter,\n      \"api\": \"role/get\",\n      \"value\": _vm.current.role_id,\n      \"fields\": ['id', 'cname']\n    },\n    on: {\n      \"change\": _vm.onSelectRole\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-37d239fe\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/users/UserForm.vue\n// module id = 410\n// module chunks = 3 4 6","<template>\r\n  <div class=\"user-page\">\r\n    <h1 class=\"text-center mb20\">我的信息</h1>\r\n    <el-row>\r\n      <el-col :span=\"12\" :offset=\"6\">\r\n        <user-form :current=\"current\" :is-user-center=\"true\" :edit-api=\"`user/update/${current.id}`\" ref=\"form\" @save-done=\"$emit('save-done')\"></user-form>\r\n      </el-col>\r\n    </el-row>\r\n  \r\n    <div class=\"actions text-center mb30\">\r\n      <el-button type=\"primary\" size=\"large\" @click=\"save\">保 存</el-button>\r\n    </div>    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import UserForm from '@/views/admin/users/UserForm';\r\n  import {mapState} from 'vuex';\r\n\r\n  export default {\r\n    name: 'UserPage',\r\n    components: {\r\n      UserForm\r\n    },\r\n    data() {\r\n      return {\r\n        current: {\r\n          id: '',\r\n          sex: ''\r\n        }\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapState(['user'])\r\n    },\r\n    methods: {\r\n      save() {\r\n        this.$refs.form.save();\r\n      }\r\n    },\r\n    created() {\r\n      P.checkLogin(this);\r\n      if (!this.user.userId) {\r\n        return;\r\n      }\r\n\r\n      axios.post(P.getApi('user/get'), {id: this.user.userId})\r\n           .then(P.resolvedCallback('', res => {\r\n             if (res.data.length) {\r\n               this.current = res.data[0];\r\n             }\r\n           }));\r\n    }\r\n  };\r\n</script>\n\n\n// WEBPACK FOOTER //\n// index.vue?ef3dee6e","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"user-page\"\n  }, [_c('h1', {\n    staticClass: \"text-center mb20\"\n  }, [_vm._v(\"我的信息\")]), _vm._v(\" \"), _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 12,\n      \"offset\": 6\n    }\n  }, [_c('user-form', {\n    ref: \"form\",\n    attrs: {\n      \"current\": _vm.current,\n      \"is-user-center\": true,\n      \"edit-api\": (\"user/update/\" + (_vm.current.id))\n    },\n    on: {\n      \"save-done\": function($event) {\n        _vm.$emit('save-done')\n      }\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"actions text-center mb30\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": _vm.save\n    }\n  }, [_vm._v(\"保 存\")])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-56218d54\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/user/index.vue\n// module id = 503\n// module chunks = 4"],"sourceRoot":""}